Program Lab4;
  {The ptogram output the numbers that
  are in each row of a two-dimensional array }

{$APPTYPE CONSOLE} // Console application
{$R *.res}

// Modules declaration
uses
  System.SysUtils;

// Cost declaration
Const
  N = 4;

// Variables declaration
Var
  i, j, m, k: integer;
  Arr: array [1 .. N, 1 .. N] of integer;
  check: boolean;
  { i,j,m - Array indexes, cycle counters;
    k - check for coincidence in a number of numbers;
    Arr - Initial array;
    check - check for coincidence in a number of numbers. }

Begin
  // Filling the array Arr
  for i := 1 to N do
  begin
    Writeln('Введите элемент массива: ', '[', i, ',', 1, ']');
    Readln(Arr[i, 1]);
    for j := 2 to N do
    begin
      repeat
        Writeln('Введите элемент массива: ', '[', i, ',', j, ']');
        Readln(Arr[i, j]);
        if Arr[i, j] <= Arr[i, j - 1] then
        writeln('Строки в массиве отсортированы по возрастанию, введите число больше предыдущего');
      until Arr[i, j] >= Arr[i, j - 1];
    end;
  end;
  // Printing array Arr
  writeln;
  writeln('Итоговый массив: ');
  for i := 1 to N do
  begin
    for j := 1 to N do
    begin
      write(Arr[i, j], ' ');
    end;
    Writeln;
  end;
  // Searching for coincidence in a number of numbers
  write('Повторяющиеся элементы: ');
  for m := 1 to N do
  begin
    check := true;
    for i := 2 to N do
    begin
      if check = true then
      begin
        k := 0;
        j := 1;
        while (Arr[1, m] >= Arr[i, j]) and (j <= N) do
        begin
          if Arr[1, m] = Arr[i, j] then
          k := k + 1;
          j := j + 1;
        end;
        // Checking for matches in a row
        if k = 0 then
        check := false;
      end;
    end;
    if check = true then
    write(Arr[1,m],' ');
  end;
  Readln;

End.
